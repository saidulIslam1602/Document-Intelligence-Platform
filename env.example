# Document Intelligence Platform - Environment Configuration
# Copy this file to .env and fill in your actual values

# ===========================================
# APPLICATION SETTINGS
# ===========================================
ENVIRONMENT=development
LOG_LEVEL=INFO

# ===========================================
# REDIS CONFIGURATION (Required for caching and rate limiting)
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true
REDIS_URL=redis://redis:6379/0

# ===========================================
# AUTOMATION SCORING CONFIGURATION
# ===========================================
AUTOMATION_THRESHOLD=0.85
AUTOMATION_CONFIDENCE_THRESHOLD=0.90
AUTOMATION_COMPLETENESS_THRESHOLD=0.95
AUTOMATION_GOAL=0.90
AUTOMATION_VALIDATION_THRESHOLD=0.85
AUTOMATION_MANUAL_INTERVENTION_THRESHOLD=0.70

# ===========================================
# PERFORMANCE TUNING
# ===========================================
# HTTP Client Settings
PERF_HTTP_MAX_CONNECTIONS=200
PERF_HTTP_MAX_KEEPALIVE=100
PERF_HTTP_TIMEOUT_CONNECT=5
PERF_HTTP_TIMEOUT_READ=30
PERF_HTTP_TIMEOUT_WRITE=10
PERF_HTTP_TIMEOUT_POOL=5
PERF_HTTP2_ENABLED=true

# Database Settings
PERF_ASYNC_SQL_POOL_SIZE=10
PERF_ASYNC_SQL_MAX_OVERFLOW=20

# Batch Processing
PERF_BATCH_SIZE=100
PERF_BATCH_FLUSH_INTERVAL=30

# Cache Settings
PERF_CACHE_TTL=300
PERF_CACHE_MAX_SIZE=10000

# Rate Limiting
PERF_RATE_LIMIT_ENABLED=true
PERF_RATE_LIMIT_REQUESTS_PER_SECOND=100.0

# ===========================================
# CIRCUIT BREAKER CONFIGURATION
# ===========================================
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60.0
CIRCUIT_BREAKER_HALF_OPEN_TIMEOUT=10.0
CIRCUIT_BREAKER_ENABLED=true

# ===========================================
# RETRY CONFIGURATION
# ===========================================
RETRY_MAX_RETRIES=3
RETRY_INITIAL_DELAY=1.0
RETRY_MAX_DELAY=30.0
RETRY_EXPONENTIAL_BASE=2.0
RETRY_JITTER=true

# ===========================================
# OBSERVABILITY CONFIGURATION
# ===========================================
OBSERVABILITY_TRACING_ENABLED=true
OBSERVABILITY_METRICS_ENABLED=true
OBSERVABILITY_JAEGER_HOST=jaeger
OBSERVABILITY_JAEGER_PORT=6831
OBSERVABILITY_PROMETHEUS_PORT=9090

# ===========================================
# SERVICE CONFIGURATION
# ===========================================
SERVICE_NAME=document-intelligence
SERVICE_PORT=8000
SERVICE_HOST=0.0.0.0
SERVICE_WORKERS=4
SERVICE_RELOAD=false

# ===========================================
# OPENAI CONFIGURATION (Required for AI features)
# ===========================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com
OPENAI_DEPLOYMENT=gpt-4

# ===========================================
# AZURE STORAGE (Required for document storage)
# ===========================================
AZURE_STORAGE_ACCOUNT_NAME=your_storage_account
AZURE_STORAGE_ACCOUNT_KEY=your_storage_key
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_storage_account;AccountKey=your_storage_key;EndpointSuffix=core.windows.net

# ===========================================
# AZURE SQL DATABASE (Required for metadata)
# ===========================================
SQL_CONNECTION_STRING=Server=tcp:your-sql-server.database.windows.net,1433;Initial Catalog=documentintelligence;Persist Security Info=False;User ID=sqladmin;Password=YourPassword123!;MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=False;Connection Timeout=30;
SQL_SERVER_NAME=your-sql-server
SQL_DATABASE_NAME=documentintelligence

# ===========================================
# AZURE DATA LAKE (Required for analytics)
# ===========================================
DATA_LAKE_STORAGE_ACCOUNT_NAME=your_datalake_account
DATA_LAKE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_datalake_account;AccountKey=your_datalake_key;EndpointSuffix=core.windows.net
DATA_LAKE_ACCOUNT_KEY=your_datalake_key

# ===========================================
# AZURE COGNITIVE SERVICES (Required for AI)
# ===========================================
FORM_RECOGNIZER_ENDPOINT=https://your-form-recognizer.cognitiveservices.azure.com
FORM_RECOGNIZER_KEY=your_form_recognizer_key
COGNITIVE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
COGNITIVE_SEARCH_KEY=your_search_key

# ===========================================
# AZURE MESSAGING (Required for real-time processing)
# ===========================================
EVENT_HUB_CONNECTION_STRING=Endpoint=sb://your-eventhub.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=your_key
SERVICE_BUS_CONNECTION_STRING=Endpoint=sb://your-servicebus.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=your_key

# ===========================================
# MIGRATION SERVICES (Required for database migration)
# ===========================================
# Teradata Configuration
TERADATA_HOST=your-teradata-host
TERADATA_USER=your-teradata-user
TERADATA_PASSWORD=your-teradata-password
TERADATA_DATABASE=your-teradata-database

# Netezza Configuration
NETEZZA_HOST=your-netezza-host
NETEZZA_USER=your-netezza-user
NETEZZA_PASSWORD=your-netezza-password
NETEZZA_DATABASE=your-netezza-database

# Oracle Configuration
ORACLE_HOST=your-oracle-host
ORACLE_PORT=1521
ORACLE_USER=your-oracle-user
ORACLE_PASSWORD=your-oracle-password
ORACLE_SERVICE=your-oracle-service

# ===========================================
# MICROSOFT FABRIC (Required for Fabric integration)
# ===========================================
FABRIC_WORKSPACE_ID=your-fabric-workspace-id
FABRIC_CAPACITY_ID=your-fabric-capacity-id
FABRIC_REGION=eastus2
SUBSCRIPTION_ID=your-azure-subscription-id

# ===========================================
# AZURE MONITORING (Required for observability)
# ===========================================
APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-instrumentation-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/
LOG_ANALYTICS_WORKSPACE_ID=your-log-analytics-workspace-id
SERVICE_BUS_CONNECTION_STRING=Endpoint=sb://your-servicebus.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=your_key

# ===========================================
# AZURE IDENTITY (Required for Azure services)
# ===========================================
AZURE_SUBSCRIPTION_ID=your_subscription_id
AZURE_TENANT_ID=your_tenant_id
AZURE_CLIENT_ID=your_client_id
AZURE_CLIENT_SECRET=your_client_secret

# ===========================================
# POWER BI INTEGRATION (Optional)
# ===========================================
POWERBI_CLIENT_ID=your_powerbi_client_id
POWERBI_CLIENT_SECRET=your_powerbi_client_secret
POWERBI_TENANT_ID=your_tenant_id

# ===========================================
# AZURE KEY VAULT (Optional)
# ===========================================
AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/

# Log Analytics
LOG_ANALYTICS_WORKSPACE_ID=your_workspace_id

# Event Hubs
AZURE_EVENT_HUB_CONNECTION_STRING=your_event_hub_connection_string
AZURE_EVENT_HUB_NAME=document-processing

# Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your_openai_api_key
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# Form Recognizer
AZURE_FORM_RECOGNIZER_ENDPOINT=https://your-form-recognizer.cognitiveservices.azure.com/
AZURE_FORM_RECOGNIZER_KEY=your_form_recognizer_key

# Application Settings
ENVIRONMENT=development
LOG_LEVEL=INFO
API_VERSION=v1